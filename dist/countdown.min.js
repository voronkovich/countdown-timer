(()=>{function F(C,k,q){let z={},H=Math.abs(k.getTime()-C.getTime()),B=Math.floor(H/1000);if(q.years)z.years=Math.floor(B/31536000),B%=31536000;if(q.months)z.months=Math.floor(B/2592000),B%=2592000;if(q.weeks)z.weeks=Math.floor(B/604800),B%=604800;if(q.days)z.days=Math.floor(B/86400),B%=86400;if(q.hours)z.hours=Math.floor(B/3600),B%=3600;if(q.minutes)z.minutes=Math.floor(B/60),B%=60;if(q.seconds)z.seconds=B;return z}function G(C){if(!C)return null;let k=new Date(C);if(!isNaN(k.getTime()))return k;return null}class E extends HTMLElement{static define(C="countdown"){let k=`${C}-timer`;customElements.define(k,this)}static get observedAttributes(){return["until"]}#C="countdown";#k=null;#q=null;constructor(){super();this.#C=this.tagName.toLowerCase().slice(0,-6)}connectedCallback(){if(!this.#k)throw new Error(`${this.tagName.toLowerCase()} requires a valid "until" attribute.`);this.#B(),this.#E()}disconnectedCallback(){this.#z()}attributeChangedCallback(C,k,q){if(C==="until")if(this.#k=G(q),this.#k)this.#B(),this.#E();else throw this.#z(),new Error(`${this.tagName.toLowerCase()} requires a valid "until" attribute.`)}#E(){if(!this.#q)this.#q=setInterval(()=>this.#B(),1000)}#z(){if(this.#q)clearInterval(this.#q),this.#q=null}#B(){let C=new Date,k=this.#G(),q={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0};if(C>=this.#k)this.#z();else q=F(C,this.#k,k);for(let z of Object.keys(k))if(k[z])this.#F(k[z],q[z])}#F(C,k){let q=+C.getAttribute("pad-zeros");if(k.toString().padStart(q,"0")!=C.textContent)C.textContent=k.toString().padStart(q,"0")}#G(){return{years:this.querySelector(`${this.#C}-years`),months:this.querySelector(`${this.#C}-months`),weeks:this.querySelector(`${this.#C}-weeks`),days:this.querySelector(`${this.#C}-days`),hours:this.querySelector(`${this.#C}-hours`),minutes:this.querySelector(`${this.#C}-minutes`),seconds:this.querySelector(`${this.#C}-seconds`)}}}E.define();})();
