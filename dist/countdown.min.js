(()=>{function G(k,C,z){let B={},E=Math.abs(C.getTime()-k.getTime()),q=Math.floor(E/1000);if(z.years)B.years=Math.floor(q/31536000),q%=31536000;if(z.months)B.months=Math.floor(q/2592000),q%=2592000;if(z.weeks)B.weeks=Math.floor(q/604800),q%=604800;if(z.days)B.days=Math.floor(q/86400),q%=86400;if(z.hours)B.hours=Math.floor(q/3600),q%=3600;if(z.minutes)B.minutes=Math.floor(q/60),q%=60;if(z.seconds)B.seconds=q;return B}function H(k){if(!k)return null;let C=new Date(k);if(!isNaN(C.getTime()))return C;return null}class F extends HTMLElement{#z="countdown";#k=null;#C=null;#q=null;static define(k="countdown"){let C=`${k}-timer`;customElements.define(C,this)}constructor(){super();this.#z=this.tagName.toLowerCase().slice(0,-6)}connectedCallback(){if(!this.#k){if(this.#k=H(this.getAttribute("until")),!this.#k)throw new Error(`${this.tagName.toLowerCase()} requires a valid "until" attribute.`)}if(!this.#C){this.#C=Object.create(null);for(let k of["years","months","weeks","days","hours","minutes","seconds"]){let C=this.querySelector(`${this.#z}-${k}`);if(C)this.#C[k]={el:C,padZeros:+C.getAttribute("pad-zeros")}}}this.#E(),this.#F()}disconnectedCallback(){this.#B()}#F(){if(!this.#q)this.#q=setInterval(()=>this.#E(),1000)}#B(){if(this.#q)clearInterval(this.#q),this.#q=null}#E(){let k=new Date,C={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0};if(k>=this.#k)this.#H();else C=G(k,this.#k,this.#C);this.#G(C)}#G(k){for(let C of Object.keys(this.#C)){let{el:z,padZeros:B}=this.#C[C],E=k[C].toString().padStart(B,"0");if(E!=z.textContent)z.textContent=E}}#H(){this.#B(),this.setAttribute("finished","")}}F.define();})();
