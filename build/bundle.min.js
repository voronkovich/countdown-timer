(()=>{var{defineProperty:n,getOwnPropertyNames:d,getOwnPropertyDescriptor:c}=Object,w=Object.prototype.hasOwnProperty;var h=new WeakMap,p=(e)=>{var t=h.get(e),s;if(t)return t;if(t=n({},"__esModule",{value:!0}),e&&typeof e==="object"||typeof e==="function")d(e).map((i)=>!w.call(t,i)&&n(t,i,{get:()=>e[i],enumerable:!(s=c(e,i))||s.enumerable}));return h.set(e,t),t};var y=(e,t)=>{for(var s in t)n(e,s,{get:t[s],enumerable:!0,configurable:!0,set:(i)=>t[s]=()=>i})};var a={};y(a,{CountdownTimer:()=>o});function l(e,t,s){let i={},r=Math.abs(t.getTime()-e.getTime()),C=31536000,T=604800,q=86400,v=3600,I=60,u=Math.floor(r/1000);if(s.years)i.years=Math.floor(u/31536000),u%=31536000;if(s.weeks)i.weeks=Math.floor(u/604800),u%=604800;if(s.days)i.days=Math.floor(u/86400),u%=86400;if(s.hours)i.hours=Math.floor(u/3600),u%=3600;if(s.minutes)i.minutes=Math.floor(u/60),u%=60;if(s.seconds)i.seconds=u;return i}class o extends HTMLElement{constructor(){super();this.timerInterval=null,this.untilDate=null}connectedCallback(){let e=this.getAttribute("until");if(e)this.untilDate=new Date(e),this.startTimer();else console.error('countdown-timer requires an "until" attribute.')}disconnectedCallback(){this.stopTimer()}startTimer(){this.updateTimer(),this.stopTimer(),this.timerInterval=setInterval(()=>this.updateTimer(),1000)}stopTimer(){if(this.timerInterval)clearInterval(this.timerInterval),this.timerInterval=null}updateTimer(){let e=new Date,t={years:0,weeks:0,days:0,hours:0,minutes:0,seconds:0};if(e>=this.untilDate)this.stopTimer();else t=l(e,this.untilDate,{years:!!this.querySelector("countdown-years"),weeks:!!this.querySelector("countdown-weeks"),days:!!this.querySelector("countdown-days"),hours:!!this.querySelector("countdown-hours"),minutes:!!this.querySelector("countdown-minutes"),seconds:!!this.querySelector("countdown-seconds")});this.updateChild("countdown-years",t.years?.toString()),this.updateChild("countdown-weeks",t.weeks?.toString()),this.updateChild("countdown-days",t.days?.toString()),this.updateChild("countdown-hours",t.hours?.toString()),this.updateChild("countdown-minutes",t.minutes?.toString()),this.updateChild("countdown-seconds",t.seconds?.toString())}updateChild(e,t){let s=this.querySelector(e);if(s)s.textContent=t}}customElements.define("countdown-timer",o);})();
